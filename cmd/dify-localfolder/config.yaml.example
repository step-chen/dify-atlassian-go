# Concurrency configuration (same as dify-confluence)
concurrency:
  # Whether concurrency is enabled (true/false)
  enabled: true
  # Number of concurrent file processing workers (adjust based on system resources)
  workers: 4
  # Size of the file processing queue
  queue_size: 100
  # Maximum number of concurrent Dify batch status checks
  batch_pool_size: 20
  # Timeout for document indexing (in minutes) - applies per retry cycle
  indexing_timeout: 10
  # Maximum number of retries for timed-out documents
  max_retries: 3
  # Whether to delete the document in Dify if indexing times out (true/false)
  delete_timeout_content: false

# Dify configuration (similar to dify-confluence, but datasets map is not used here)
dify:
  # Base URL of the Dify API (e.g., https://api.dify.ai/v1)
  base_url: https://api.dify.ai/v1
  # API key for Dify authentication (generate from your Dify account)
  # IMPORTANT: Encrypt this key using the 'tools/encrypt_key' utility before pasting here.
  api_key: YOUR_ENCRYPTED_DIFY_API_KEY
  # RAG settings (same as dify-confluence)
  rag_setting:
    # Document indexing technique (high_quality, economy)
    indexing_technique: high_quality
    # Document form (hierarchical_model, qa_model, text_model)
    doc_form: hierarchical_model
    # Process rules configuration
    process_rule:
      mode: custom # or 'automatic'
      rules:
        pre_processing_rules:
          - id: remove_extra_spaces
            enabled: true
          - id: remove_urls_emails
            enabled: false
        segmentation:
          separator: "\n"
          max_tokens: 500
        # Parent mode for hierarchical segmentation (paragraph, etc.)
        parent_mode: paragraph
        subchunk_segmentation:
          separator: "***"
          max_tokens: 500
          chunk_overlap: 150

# Local Folder specific settings
local_folder:
  # List of file extensions to process (include the leading dot)
  supported_extensions:
    - ".md"
    - ".txt"
    - ".pdf"
    - ".docx"
    - ".xlsx"
    - ".csv"
    - ".html"
  # Maximum file size in Megabytes (MB) to process
  max_file_size_mb: 10 # Default is 10MB if omitted

# List of local folders to sync with Dify datasets
folders:
  - path: /path/to/your/notes/folder # Absolute path to the folder
    dataset_id: YOUR_DIFY_DATASET_ID_FOR_NOTES # Dify dataset ID for this folder
  - path: /path/to/another/project/docs
    dataset_id: ANOTHER_DIFY_DATASET_ID
  # Add more folders as needed
