# Confluence configuration
confluence:
  # Base URL of the Confluence instance
  base_url: https://confluence.cms.navinfo.cloud
  # API key for Confluence authentication
  api_key: "your-confluence-api-key"
  # List of space keys to process
  space_keys:
    - HAD

# Concurrency configuration
concurrency:
  # Whether concurrency is enabled
  enabled: false
  # Number of concurrent content workers
  workers: 3
  # Size of the content processing queue
  queue_size: 3
  # Number of concurrent attachment workers
  attachment_workers: 3
  # Size of the attachment processing queue
  attachment_queue_size: 3
  # Number of concurrent delete workers
  delete_workers: 3
  # Size of the delete processing queue
  delete_queue_size: 3
  # Maximum number of batches in the global pool
  batch_pool_size: 10
  # Timeout for document indexing (in minutes)
  indexing_timeout: 2
  # Maximum number of retries for timeout documents
  max_retries: 10

# Dify configuration
dify:
  # Base URL of the Dify API
  base_url: http://192.168.30.82:5210/v1
  # API key for Dify authentication
  api_key: "your-dify-api-key"
  # Mapping of space keys to dataset IDs
  datasets:
    HAD: "your-dataset-id"

# Process rules configuration
process_rule:
  mode: custom
  rules:
    pre_processing_rules:
      - id: remove_extra_spaces
        enabled: true
      - id: remove_urls_emails
        enabled: false
    segmentation:
      separator: "\n"
      max_tokens: 2000
    parent_mode: full-doc
    subchunk_segmentation:
      separator: "***"
      max_tokens: 500
      chunk_overlap: 150

# Allowed media types for attachments
allowed_types:
  text/plain: true
  text/markdown: true
  text/x-markdown: true
  application/pdf: true
  text/html: true
  application/vnd.openxmlformats-officedocument.spreadsheetml.sheet: true
  application/vnd.ms-excel: true
  application/vnd.openxmlformats-officedocument.wordprocessingml.document: true
  text/csv: true
  #application/vnd.oasis.opendocument.text: true
  #application/vnd.oasis.opendocument.spreadsheet: true

# Unsupported media types that will be skipped during processing
unsupported_types:
  application/octet-stream: true
  application/x-msdownload: true
  application/x-shockwave-flash: true
  application/x-tar: true
  application/zip: true
  application/x-rar-compressed: true
  application/x-7z-compressed: true
  application/x-bzip2: true
  application/x-gzip: true
  image/jpeg: true
  image/png: true
  image/gif: true
  image/bmp: true
  image/webp: true
  application/vnd.oasis.opendocument.spreadsheet: true
  application/vnd.oasis.opendocument.presentation: true
  application/vnd.oasis.opendocument.graphics: true
  text/xml: true
  application/xml: true
  image/svg+xml: true
  application/vnd.jgraph.mxfile: true
